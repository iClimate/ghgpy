{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>This site contains the project documentation for the GHG Inventory Python component.</p> <p>Its aim is to provide you with a full feature GHG inventory tool.</p>"},{"location":"#table-of-contents","title":"Table Of Contents","text":"<p>Documentation consists of four separate parts: 1. About 2. Getting Started 3. Reference 4. Patch History 5. License</p> <p>Quickly find what you're looking for depending on your use case by looking at the different pages.</p>"},{"location":"#project-overview","title":"Project Overview","text":"<p>Do GHG Inventoy and more.</p> <p>Modules exported by this package:</p> <ul> <li><code>ghgpy</code>: Provide ghg accounting framework.</li> </ul>"},{"location":"about/","title":"About","text":"<p>GHGpy is a python pakage, backbone for our GHG Inventory platform.</p> <p>This is an intuitive, lightweight, high performance GHG accouting tool.</p> <p>With special number type: <code>ufnum</code> easy to evaluate the data uncertainly.</p> <p>Compliant with IPCC 2006 and GHG Protocol, with the latest database update (limited free database).</p> <p>For more information on how to start using the package, check:</p> <ul> <li>Getting Started</li> </ul>"},{"location":"getting_started/","title":"Getting Started","text":""},{"location":"getting_started/#how-calculate-your-factory-emission","title":"How Calculate your factory emission?","text":"<p>The <code>ghgpy</code> Python package helps you doing ghg invertory in the easy way and more ... Before using the package, you need to install it on your system. You can do it by using pip:</p> <pre><code>pip install ghgpy\n</code></pre> <p>Inside of your python script you can now import the modules from the <code>ghgpy</code> package:</p> <pre><code># your_script.py\nfrom ghgpy import factory\n</code></pre> <p>After you've imported the package, you can use it:</p> <pre><code># your_script.py\nfrom ghgpy import factory\nfrom ghgpy.activities.energy import combustion\n</code></pre> <p>First you need to crete a factory with basic information:</p> <pre><code># your_script.py\nyour_factory = factory(\"your inpu here\")\n</code></pre> <p>Then you can add a process to your factory with fuel data:</p> <pre><code># your_script.py\nyour_factory.add_process(combustion(fuel, \"type of combustion\"))\n</code></pre> <p>Get the total emission of your factory</p> <pre><code>your_factory.emission()\n</code></pre> <p>Activity modules: <code>combustion</code>, <code>refrigerant_use</code>, <code>refrigerant_use</code> Fuel modules: <code>BaseFuel</code>, <code>DefaultFuel</code> Material and GHG gas modules: <code>GHGGas</code></p>"},{"location":"license/","title":"License","text":"<p>MIT License</p> <p>Copyright (c) 2024 iClimate</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"patch_history/","title":"Patch History","text":"<p>1.0.0</p> <ul> <li>Initial release</li> </ul>"},{"location":"reference/","title":"Reference","text":"<p>This page contains in-depth documentation of <code>ghgpy</code> package.  Use it as a reference for the technical implementation of the <code>ghgpy</code> by iClimate project code.</p> <p>GHG inventory for Energy sector Base on the IPCC 2006 w 2019 refinement (c) Bui Khac Tu (bkt92)</p> <p>iClimate - ghgpy</p> <p>Fuel objects Represent a amount of a specific fuel (C) Bui Khac Tu (bkt92) (C) iClimate</p> <p>iClimate - ghgpy</p> <p>GHG Gas objects Represent a amount of a specific ghg gas (C) Bui Khac Tu (bkt92) (C) iClimate</p> <p>Unit Converters for GHG inventory (c) Bui Khac Tu (bkt92)</p>"},{"location":"reference/#src.ghgpy.activities.energy.Combustion","title":"<code>Combustion</code>","text":"<p>             Bases: <code>ADCombussion</code></p> <p>Stationary combustion (SC)</p> Source code in <code>src\\ghgpy\\activities\\energy.py</code> <pre><code>class Combustion(ADCombussion):\n    \"\"\"\n    Stationary combustion (SC)\n    \"\"\"\n    #def __init__(self, **kwargs):\n    #    super().__init__(**kwargs)\n\n    def eval(self, database: GHGDataHandle):\n        \"\"\"\n        Evaluate the activity for ghg emission\n        - Current GHG: CO2, CH4 and N2O\n        - Required GHG database\n        - Return a list of GHG emission from this activity\n        \"\"\"\n        if len(self.fuels_list) == 0:\n            return \"No fuel in this activity, please add some fuels\"\n        else:\n            co2v, ch4v, n2ov = 0, 0, 0\n            for key, fuel in self.fuels_list.items():\n                energy = fuel.cal_energy()\n                co2v += energy*self.efs_list[key]['co2'].to_ufnum()\n                ch4v += energy*self.efs_list[key]['ch4'].to_ufnum()\n                n2ov += energy*self.efs_list[key]['n2o'].to_ufnum()\n            co2 = CO2(ufnum(co2v).to_unum(), 'kg', database)\n            ch4 = CH4(ufnum(ch4v).to_unum(), 'kg', database)\n            n2o = N2O(ufnum(n2ov).to_unum(), 'kg', database)\n        self.results = [co2, ch4, n2o]\n        return self.results\n\n    def emission(self, unit='t'):\n        \"\"\"\n        Total emission in unit of CO2e (`Default in metric tonnes`)\n        \"\"\"\n        if self.results == None:\n            logging.info(\"The emission data is not evaluated yet, eval now ...\")\n            return \"\"\"The emission data is not evaluated yet! \\n\n                        Eval now with eval() function\"\"\"\n\n        return weigh_units.convert(sum([x.emission() for x in self.results]), 't', unit)\n\n    def add_fuel(self, fuel: BaseFuel, efdb: EFDataHandle, force=False):\n        \"\"\"\n        Add a fuel to fuels list of combussion class \n        - Required database for emission factors\n        - Required fuel class (datamodel)\n        - `force` = True: Overwrite existing fuel data\n\n        \"\"\"\n        if not force:\n            if fuel.name in self.fuels_list.keys():\n                return \"Fuel exist in database, using `force = True` to overwrite!\"\n        if not efdb.check_exist(fuel.name):\n            raise ValueError(\"Fuel not found in database.\")\n        efco2 = UNumber(**efdb.get(fuel.name)[\"co2\"])\n        efch4 = UNumber(**efdb.get(fuel.name)[\"ch4\"])\n        efn2o = UNumber(**efdb.get(fuel.name)[\"n2o\"])\n        self.fuels_list[fuel.name] = fuel\n        self.efs_list[fuel.name] = {'co2': efco2, 'ch4': efch4, 'n2o': efn2o}\n        return f'Added {fuel.name}'\n\n    def remove_fuel(self, name: str):\n        \"\"\"\n        Remote a fuel from the list\\n\n        Use list_fuels() method to check the list\n        \"\"\"\n        if name in self.fuels_list.keys():\n            self.fuels_list.pop(name)\n            self.efs_list.pop(name)\n            return f'Removed {name}'\n        else:\n            return \"Fuel not in the list\"\n\n    def list_fuels(self):\n        \"\"\"\n        List all fuels in the combustion class\n        \"\"\"\n        return self.fuels_list.keys()\n\n    @classmethod\n    def load_data(cls, data):\n        \"\"\"\n        Load data to the class\n        \"\"\"\n        return cls(**data)\n</code></pre>"},{"location":"reference/#src.ghgpy.activities.energy.Combustion.add_fuel","title":"<code>add_fuel(fuel, efdb, force=False)</code>","text":"<p>Add a fuel to fuels list of combussion class  - Required database for emission factors - Required fuel class (datamodel) - <code>force</code> = True: Overwrite existing fuel data</p> Source code in <code>src\\ghgpy\\activities\\energy.py</code> <pre><code>def add_fuel(self, fuel: BaseFuel, efdb: EFDataHandle, force=False):\n    \"\"\"\n    Add a fuel to fuels list of combussion class \n    - Required database for emission factors\n    - Required fuel class (datamodel)\n    - `force` = True: Overwrite existing fuel data\n\n    \"\"\"\n    if not force:\n        if fuel.name in self.fuels_list.keys():\n            return \"Fuel exist in database, using `force = True` to overwrite!\"\n    if not efdb.check_exist(fuel.name):\n        raise ValueError(\"Fuel not found in database.\")\n    efco2 = UNumber(**efdb.get(fuel.name)[\"co2\"])\n    efch4 = UNumber(**efdb.get(fuel.name)[\"ch4\"])\n    efn2o = UNumber(**efdb.get(fuel.name)[\"n2o\"])\n    self.fuels_list[fuel.name] = fuel\n    self.efs_list[fuel.name] = {'co2': efco2, 'ch4': efch4, 'n2o': efn2o}\n    return f'Added {fuel.name}'\n</code></pre>"},{"location":"reference/#src.ghgpy.activities.energy.Combustion.emission","title":"<code>emission(unit='t')</code>","text":"<p>Total emission in unit of CO2e (<code>Default in metric tonnes</code>)</p> Source code in <code>src\\ghgpy\\activities\\energy.py</code> <pre><code>def emission(self, unit='t'):\n    \"\"\"\n    Total emission in unit of CO2e (`Default in metric tonnes`)\n    \"\"\"\n    if self.results == None:\n        logging.info(\"The emission data is not evaluated yet, eval now ...\")\n        return \"\"\"The emission data is not evaluated yet! \\n\n                    Eval now with eval() function\"\"\"\n\n    return weigh_units.convert(sum([x.emission() for x in self.results]), 't', unit)\n</code></pre>"},{"location":"reference/#src.ghgpy.activities.energy.Combustion.eval","title":"<code>eval(database)</code>","text":"<p>Evaluate the activity for ghg emission - Current GHG: CO2, CH4 and N2O - Required GHG database - Return a list of GHG emission from this activity</p> Source code in <code>src\\ghgpy\\activities\\energy.py</code> <pre><code>def eval(self, database: GHGDataHandle):\n    \"\"\"\n    Evaluate the activity for ghg emission\n    - Current GHG: CO2, CH4 and N2O\n    - Required GHG database\n    - Return a list of GHG emission from this activity\n    \"\"\"\n    if len(self.fuels_list) == 0:\n        return \"No fuel in this activity, please add some fuels\"\n    else:\n        co2v, ch4v, n2ov = 0, 0, 0\n        for key, fuel in self.fuels_list.items():\n            energy = fuel.cal_energy()\n            co2v += energy*self.efs_list[key]['co2'].to_ufnum()\n            ch4v += energy*self.efs_list[key]['ch4'].to_ufnum()\n            n2ov += energy*self.efs_list[key]['n2o'].to_ufnum()\n        co2 = CO2(ufnum(co2v).to_unum(), 'kg', database)\n        ch4 = CH4(ufnum(ch4v).to_unum(), 'kg', database)\n        n2o = N2O(ufnum(n2ov).to_unum(), 'kg', database)\n    self.results = [co2, ch4, n2o]\n    return self.results\n</code></pre>"},{"location":"reference/#src.ghgpy.activities.energy.Combustion.list_fuels","title":"<code>list_fuels()</code>","text":"<p>List all fuels in the combustion class</p> Source code in <code>src\\ghgpy\\activities\\energy.py</code> <pre><code>def list_fuels(self):\n    \"\"\"\n    List all fuels in the combustion class\n    \"\"\"\n    return self.fuels_list.keys()\n</code></pre>"},{"location":"reference/#src.ghgpy.activities.energy.Combustion.load_data","title":"<code>load_data(data)</code>  <code>classmethod</code>","text":"<p>Load data to the class</p> Source code in <code>src\\ghgpy\\activities\\energy.py</code> <pre><code>@classmethod\ndef load_data(cls, data):\n    \"\"\"\n    Load data to the class\n    \"\"\"\n    return cls(**data)\n</code></pre>"},{"location":"reference/#src.ghgpy.activities.energy.Combustion.remove_fuel","title":"<code>remove_fuel(name)</code>","text":"<p>Remote a fuel from the list</p> <p>Use list_fuels() method to check the list</p> Source code in <code>src\\ghgpy\\activities\\energy.py</code> <pre><code>def remove_fuel(self, name: str):\n    \"\"\"\n    Remote a fuel from the list\\n\n    Use list_fuels() method to check the list\n    \"\"\"\n    if name in self.fuels_list.keys():\n        self.fuels_list.pop(name)\n        self.efs_list.pop(name)\n        return f'Removed {name}'\n    else:\n        return \"Fuel not in the list\"\n</code></pre>"},{"location":"reference/#src.ghgpy.activities.energy.ElecUse","title":"<code>ElecUse</code>","text":"<p>             Bases: <code>BaseModel</code></p> <p>Electricity use data class</p> <p><code>consumption</code>: power consumption in unit  <code>unit</code>: unit of power  <code>year</code>: [optional] year of power consumption  <code>location</code>: [optional] location of end-user  <code>gef</code>: git emission factor (in year)</p> Source code in <code>src\\ghgpy\\activities\\energy.py</code> <pre><code>class ElecUse(BaseModel):\n    \"\"\"\n    Electricity use data class\\n\n    `consumption`: power consumption in unit \n    `unit`: unit of power \n    `year`: [optional] year of power consumption \n    `location`: [optional] location of end-user \n    `gef`: git emission factor (in year)\n    \"\"\"\n    consumption: UNumber = None\n    unit: str = None\n    year: Optional[int] = None\n    location: Optional[str] = None\n    gef: UNumber = None # tCO2e/MWh\n\n    def emission(self, unit='tonne'):\n        energy = energy_units.convert(self.consumption.to_ufnum(), self.unit, 'MWh')\n        return weigh_units.convert(energy*self.gef.to_ufnum(), 'tonne', unit)\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.fuel.BaseFuel","title":"<code>BaseFuel</code>","text":"<p>             Bases: <code>FuelData</code></p> <p>Base Fuel Object (use for all kind of fuel) </p> <p>Representative by TJ </p> <p>Allow \"+, -\" operators with the same kind of fuel </p> <p>Allow convert to different property (Weight, Volume, Carbon Content)</p> Source code in <code>src\\ghgpy\\datamodel\\fuel.py</code> <pre><code>class BaseFuel(FuelData):\n    \"\"\"\n    Base Fuel Object (use for all kind of fuel) \\n\n    Representative by TJ \\n\n    Allow \"+, -\" operators with the same kind of fuel \\n\n    Allow convert to different property (Weight, Volume, Carbon Content)\n    \"\"\"\n    # Init attributes of fuel\n    #def __init__(self, **kwargs):\n    #    super().__init__(**kwargs)\n\n    # Validate unit\n    def _is_valid_unit(self, unit):\n        if not ((unit in weigh_units.units) or (unit in volume_units.units)):\n            raise ValueError(\"Invalid Unit.\")\n        return unit\n\n    # Convert to TJ\n    def cal_energy(self, unit='tj'):\n        '''\n        Energy of Fuel in unit \\n\n        Default unit `Tj`\n        '''\n        if any(x == None for x in [self.amount, self.properties.ncv]):\n            return None\n        amount = self.amount.to_ufnum()\n        ncv = self.properties.ncv.to_ufnum()\n        if self.unit in weigh_units.units:\n            energy = weigh_units.convert(amount, self.unit, 'Gg')*ncv\n            return energy_units.convert(energy, 'tj', unit)\n        if self.unit in volume_units.units:\n            if self.properties.density == None:\n                return None\n            else:\n                density = self.properties.density.to_ufnum()\n                energy = weigh_units.convert(volume_units.convert(amount, self.unit, 'm3')\\\n                                           *density, 'kg', 'Gg')*ncv\n                return energy_units.convert(energy, 'tj', unit)\n\n    # Convert to kg\n    def cal_weight(self, unit='kg'):\n        '''\n        Weight of Fuel in unit \\n\n        Unit default `kg`\n        '''\n        amount = self.amount.to_ufnum()\n        if self.unit in weigh_units.units:\n            return weigh_units.convert(amount, self.unit, unit)\n        if self.unit in volume_units.units:\n            if self.properties.density == None:\n                return None\n            else:\n                density = self.properties.density.to_ufnum()\n                weight = volume_units.convert(amount, self.unit, 'm3')*density\n                return weigh_units.convert(weight, 'kg', unit)\n\n    # Convert carbon content (kg)\n    def calc_cc(self, unit='kg'):\n        '''\n        Carbon content of Fuel in unit \\n\n        Default unit `kg`\n        '''\n        if self.properties.ccf == None:\n            return None\n        else:\n            ccf = self.properties.ccf.to_ufnum()\n            return weigh_units.convert(1000*self.cal_energy()*ccf, 'kg', unit)\n\n    # Convert to volume (litre)\n    def cal_volume(self, unit='l'):\n        '''\n        Volume of Fuel in unit \\n\n        Default unit `litre`\n        '''\n        amount = self.amount.to_ufnum()\n        if self.unit in weigh_units.units:\n            if self.properties.density == None:\n                return None\n            else:\n                density = self.properties.density.to_ufnum()\n                volume = weigh_units.convert(amount, self.unit, 'kg')/density\n                return volume_units.convert(volume, 'm3', unit)\n        if self.unit in volume_units.units:\n            return volume_units.convert(amount, self.unit, unit)\n\n    # Check two object have enough fuel data\n    def _check_fuel(self, other):\n        if not isinstance(other, BaseFuel):\n            return NotImplemented\n        if (self.name, self.properties.desc, self.properties.ncv, self.properties.density) == \\\n            (other.name, other.properties.desc, other.properties.ncv, other.properties.density):\n            return True\n        else:\n            return False\n\n    # Convert data to dict\n    def to_dict(self, properties = True):\n        if properties:\n            return self.dict()\n        else:\n            data = self.dict()\n            data.pop(\"properties\")\n            return data\n\n    # Return to tj (energy of fuel)\n    def __repr__(self) -&gt; str:\n        return (\n            'fuel('\n            f'name={self.name!r}, amount={self.cal_energy()!r} Tj)'\n        )\n\n    def __hash__(self) -&gt; int:\n        return hash((self.name, self.properties.desc, self.cal_energy(), self.properties.ncv))\n\n    def __eq__(self, other) -&gt; bool:\n        if not isinstance(other, BaseFuel):\n            return NotImplemented\n        return (\n            (self.name, self.cal_energy(), self.properties.ncv) == \n            (other.name, other.cal_energy(), other.properties.ncv))\n\n    def __add__(self, other) -&gt; float:\n        if not isinstance(other, BaseFuel):\n            return NotImplemented\n        if self._check_fuel(other):\n            sum = self.cal_weight()+other.cal_weight()\n            amount = ufnum(sum.value, sum.uncertainty)\n            return BaseFuel(self.name, self.properties.desc, self.properties.ncv.to_ufnum(), \\\n                            self.properties.ccf.to_ufnum(), self.properties.density.to_ufnum(), amount, \"kg\")    \n        else:\n            return NotImplemented\n\n    def __sub__(self, other) -&gt; float:\n        if not isinstance(other, BaseFuel):\n            return NotImplemented\n        if self._check_fuel(other):\n            sub = self.cal_weight()-other.cal_weight()\n            amount = ufnum(sub.value, sub.uncertainty)\n            return BaseFuel(self.name, self.properties.desc, self.properties.ncv.to_ufnum(), \\\n                            self.properties.ccf.to_ufnum(), self.properties.density.to_ufnum(), amount, \"kg\")    \n        else:\n            return NotImplemented\n\n    # Load fuel from json file\n    @classmethod\n    def from_dict(cls, data):\n        '''\n        Load json file to fuel class\n        schema:\n        { \n        name: Name/code of fuel,\n        amount: Amount of fuel (unit),\n        unit: Unit of amount fuel,\n        properties:\n            {\n            desc: More information about fuel\n            ncv: Net calorific value (Tj/Gg)\n            ccf: Carbon content of fuel (kg/GJ)\n            density: Density of fuel (kg/m3)\n            }\n        }\n        '''\n        return cls(**data)                \n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.fuel.BaseFuel.cal_energy","title":"<code>cal_energy(unit='tj')</code>","text":"<p>Energy of Fuel in unit </p> <p>Default unit <code>Tj</code></p> Source code in <code>src\\ghgpy\\datamodel\\fuel.py</code> <pre><code>def cal_energy(self, unit='tj'):\n    '''\n    Energy of Fuel in unit \\n\n    Default unit `Tj`\n    '''\n    if any(x == None for x in [self.amount, self.properties.ncv]):\n        return None\n    amount = self.amount.to_ufnum()\n    ncv = self.properties.ncv.to_ufnum()\n    if self.unit in weigh_units.units:\n        energy = weigh_units.convert(amount, self.unit, 'Gg')*ncv\n        return energy_units.convert(energy, 'tj', unit)\n    if self.unit in volume_units.units:\n        if self.properties.density == None:\n            return None\n        else:\n            density = self.properties.density.to_ufnum()\n            energy = weigh_units.convert(volume_units.convert(amount, self.unit, 'm3')\\\n                                       *density, 'kg', 'Gg')*ncv\n            return energy_units.convert(energy, 'tj', unit)\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.fuel.BaseFuel.cal_volume","title":"<code>cal_volume(unit='l')</code>","text":"<p>Volume of Fuel in unit </p> <p>Default unit <code>litre</code></p> Source code in <code>src\\ghgpy\\datamodel\\fuel.py</code> <pre><code>def cal_volume(self, unit='l'):\n    '''\n    Volume of Fuel in unit \\n\n    Default unit `litre`\n    '''\n    amount = self.amount.to_ufnum()\n    if self.unit in weigh_units.units:\n        if self.properties.density == None:\n            return None\n        else:\n            density = self.properties.density.to_ufnum()\n            volume = weigh_units.convert(amount, self.unit, 'kg')/density\n            return volume_units.convert(volume, 'm3', unit)\n    if self.unit in volume_units.units:\n        return volume_units.convert(amount, self.unit, unit)\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.fuel.BaseFuel.cal_weight","title":"<code>cal_weight(unit='kg')</code>","text":"<p>Weight of Fuel in unit </p> <p>Unit default <code>kg</code></p> Source code in <code>src\\ghgpy\\datamodel\\fuel.py</code> <pre><code>def cal_weight(self, unit='kg'):\n    '''\n    Weight of Fuel in unit \\n\n    Unit default `kg`\n    '''\n    amount = self.amount.to_ufnum()\n    if self.unit in weigh_units.units:\n        return weigh_units.convert(amount, self.unit, unit)\n    if self.unit in volume_units.units:\n        if self.properties.density == None:\n            return None\n        else:\n            density = self.properties.density.to_ufnum()\n            weight = volume_units.convert(amount, self.unit, 'm3')*density\n            return weigh_units.convert(weight, 'kg', unit)\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.fuel.BaseFuel.calc_cc","title":"<code>calc_cc(unit='kg')</code>","text":"<p>Carbon content of Fuel in unit </p> <p>Default unit <code>kg</code></p> Source code in <code>src\\ghgpy\\datamodel\\fuel.py</code> <pre><code>def calc_cc(self, unit='kg'):\n    '''\n    Carbon content of Fuel in unit \\n\n    Default unit `kg`\n    '''\n    if self.properties.ccf == None:\n        return None\n    else:\n        ccf = self.properties.ccf.to_ufnum()\n        return weigh_units.convert(1000*self.cal_energy()*ccf, 'kg', unit)\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.fuel.BaseFuel.from_dict","title":"<code>from_dict(data)</code>  <code>classmethod</code>","text":"<p>Load json file to fuel class schema: {  name: Name/code of fuel, amount: Amount of fuel (unit), unit: Unit of amount fuel, properties:     {     desc: More information about fuel     ncv: Net calorific value (Tj/Gg)     ccf: Carbon content of fuel (kg/GJ)     density: Density of fuel (kg/m3)     } }</p> Source code in <code>src\\ghgpy\\datamodel\\fuel.py</code> <pre><code>@classmethod\ndef from_dict(cls, data):\n    '''\n    Load json file to fuel class\n    schema:\n    { \n    name: Name/code of fuel,\n    amount: Amount of fuel (unit),\n    unit: Unit of amount fuel,\n    properties:\n        {\n        desc: More information about fuel\n        ncv: Net calorific value (Tj/Gg)\n        ccf: Carbon content of fuel (kg/GJ)\n        density: Density of fuel (kg/m3)\n        }\n    }\n    '''\n    return cls(**data)                \n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.fuel.DefaultFuel","title":"<code>DefaultFuel</code>","text":"<p>             Bases: <code>BaseFuel</code></p> <p><code>amount: amount of fuel</code></p> <p><code>unit: unit of fuel</code></p> <p>Data Sources: </p> <p>Calorific value: 2006 IPCC Guidelines for National Greenhouse Gas Inventories V2_Ch1 - TABLE 1.2: https://www.ipcc-nggip.iges.or.jp/public/2006gl/pdf/2_Volume2/V2_1_Ch1_Introduction.pdf </p> <p>Density: IEA Database documentation: https://wds.iea.org/wds/pdf/oil_documentation.pdf</p> Source code in <code>src\\ghgpy\\datamodel\\fuel.py</code> <pre><code>class DefaultFuel(BaseFuel):\n    '''\n    `amount: amount of fuel`\\n\n    `unit: unit of fuel`\n\n    -------------\n    Data Sources: \\n\n    Calorific value: 2006 IPCC Guidelines for National Greenhouse Gas Inventories V2_Ch1 - TABLE 1.2:\n    https://www.ipcc-nggip.iges.or.jp/public/2006gl/pdf/2_Volume2/V2_1_Ch1_Introduction.pdf \\n\n    Density: IEA Database documentation:\n    https://wds.iea.org/wds/pdf/oil_documentation.pdf \\n\n\n    '''\n    def __init__(self, database :FuelDataHandle, fuel: str, amount: UNumber, unit: str):\n        if not database.check_exist(fuel):\n            raise ValueError(\"Fuel not found in database.\")\n\n        properties = FuelProperties(**database.get(fuel))\n        super().__init__(**{\"name\": fuel, \"amount\": amount, \"unit\": unit, \"properties\": properties})\n\n    # Load fuel from json file\n    @classmethod\n    def from_json(cls, database, data):\n        '''\n        Load json file to fuel class\n        Schema:\n        { \n        name: Name/code of fuel,\n        amount: amount of fuel (unit),\n        unit: unit of amount fuel\n        }\n        '''\n        if not database.check_exist(data[\"name\"]):\n            raise ValueError(\"Fuel not found in database.\")\n        return cls(database, data[\"name\"], data[\"amount\"],  data[\"unit\"])\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.fuel.DefaultFuel.from_json","title":"<code>from_json(database, data)</code>  <code>classmethod</code>","text":"<p>Load json file to fuel class Schema: {  name: Name/code of fuel, amount: amount of fuel (unit), unit: unit of amount fuel }</p> Source code in <code>src\\ghgpy\\datamodel\\fuel.py</code> <pre><code>@classmethod\ndef from_json(cls, database, data):\n    '''\n    Load json file to fuel class\n    Schema:\n    { \n    name: Name/code of fuel,\n    amount: amount of fuel (unit),\n    unit: unit of amount fuel\n    }\n    '''\n    if not database.check_exist(data[\"name\"]):\n        raise ValueError(\"Fuel not found in database.\")\n    return cls(database, data[\"name\"], data[\"amount\"],  data[\"unit\"])\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.fuel.dict_to_fuel","title":"<code>dict_to_fuel(data, database)</code>","text":"<p>Schema: Class FuelData</p> <p>Load json file to fuel class schema: {  name: Name/code of fuel, amount: Amount of fuel (unit), unit: Unit of amount fuel, properties:     {     desc: More information about fuel     ncv: Net calorific value (Tj/Gg)     ccf: Carbon content of fuel (kg/GJ)     density: Density of fuel (kg/m3)     } }</p> Source code in <code>src\\ghgpy\\datamodel\\fuel.py</code> <pre><code>def dict_to_fuel(data, database):\n    '''\n    Schema: Class FuelData\n\n    Load json file to fuel class\n    schema:\n    { \n    name: Name/code of fuel,\n    amount: Amount of fuel (unit),\n    unit: Unit of amount fuel,\n    properties:\n        {\n        desc: More information about fuel\n        ncv: Net calorific value (Tj/Gg)\n        ccf: Carbon content of fuel (kg/GJ)\n        density: Density of fuel (kg/m3)\n        }\n    }\n    '''\n    _required_data = ['name', 'amount', 'unit']\n    _attributes_list = set(['desc', 'ncv', 'ccf', 'density'])\n\n    if not all(x in data.keys() for x in _required_data):\n        raise ValueError(\"Invalid data, missing fields!\")\n\n    elif not \"properties\" in data.keys():\n        if not data[\"name\"] in database.keys():\n            raise ValueError(\"Invalid data, fuel name not found in default fuel list!\")\n        else:\n            fuel = data[\"name\"]\n            return DefaultFuel(database, data[\"name\"], ufnum.from_dict(data[\"amount\"]),  data[\"unit\"])\n    else:\n        if all(x in data[\"properties\"].keys() for x in _attributes_list):\n            return BaseFuel(data[\"name\"], data[\"properties\"]['desc'], ufnum.from_dict(data[\"properties\"]['ncv']), \\\n                        ufnum.from_dict(data[\"properties\"]['ccf']), ufnum.from_dict(data[\"properties\"]['density']), \\\n                            ufnum.from_dict(data[\"amount\"]), data[\"unit\"])                \n        elif not data[\"name\"] in database.keys():\n            raise ValueError(\"Invalid data, missing atribute which can not get from default fuel list!\")\n        else:\n            fuel = data[\"name\"]\n            input = {}\n            for i in _attributes_list.difference(data[\"properties\"].keys()):\n                input[i] = database.get(fuel)[i]\n            for i in data[\"properties\"].keys():\n                input[i] = data[\"properties\"][i]\n            return BaseFuel(data[\"name\"], input['desc'], ufnum.from_dict(input['ncv']), \\\n                        ufnum.from_dict(input['ccf']), ufnum.from_dict(input['density']), \\\n                            ufnum.from_dict(data[\"amount\"]),  data[\"unit\"])\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.ghg.GHGGas","title":"<code>GHGGas</code>","text":"<p>             Bases: <code>GHGDATA</code></p> <p>GHG Gas Object (use for all kind of GHG gas) </p> <p>Representative by tCO2e </p> <p>Allow \"+, -\" operators with the same kind of gas</p> Source code in <code>src\\ghgpy\\datamodel\\ghg.py</code> <pre><code>class GHGGas(GHGDATA):\n    \"\"\"\n    GHG Gas Object (use for all kind of GHG gas) \\n\n    Representative by tCO2e \\n\n    Allow \"+, -\" operators with the same kind of gas\n    \"\"\"\n    # Convert to tonnes\n    def cal_weight(self, unit='tonne'):\n        '''\n        Convert to metric unit /n\n        Default unit metric tonnes\n        '''\n        amount = self.amount.to_ufnum()\n        if self.unit in weigh_units.units:\n            return weigh_units.convert(amount, self.unit, unit)\n        if self.unit in volume_units.units:\n            if self.density == None:\n                return None\n            else:\n                weight = volume_units.convert(amount, self.unit, 'm3')*self.density\n                return weigh_units.convert(weight, 'kg', unit)\n\n    def emission(self):\n        return self.cal_weight()*self.gwp\n\n    def __repr__(self) -&gt; str:\n        return (f'name={self.name!r}, amount={self.emission()!r} tCO2e')\n\n    def __hash__(self) -&gt; int:\n        return hash((self.amount, self.name, self.gwp))\n\n    def __eq__(self, other) -&gt; bool:\n        if not isinstance(other, GHGGas):\n            return NotImplemented\n        return (\n            (self.amount, self.name, self.gwp) == \n            (other.amount, other.name, other.gwp))\n\n    def __add__(self, other) -&gt; float:\n        if not isinstance(other, GHGGas):\n            return NotImplemented\n        if (self.name, self.gwp) == (other.name, other.gwp):\n            amount  = ufnum(self.cal_weight() + other.cal_weight())\n            return GHGGas(self.name, amount, \"tonne\", \\\n                          self.desc, self.gwp, self.density)\n        else:\n            return NotImplemented\n\n    def __sub__(self, other) -&gt; float:\n        if not isinstance(other, GHGGas):\n            return NotImplemented\n        if (self.name, self.gwp) == (other.name, other.gwp):\n            amount  = ufnum(self.cal_weight() - other.cal_weight())\n            return GHGGas(self.name, amount, \"tonne\", \\\n                          self.desc, self.gwp, self.density)\n        else:\n            return NotImplemented\n\n    @classmethod\n    def from_dict(cls, data):\n        '''\n        {'name': {'title': 'Name', 'type': 'string'},\n        'amount': {'title': 'Amount', 'type': 'number'},\n        'unit': {'title': 'Unit', 'type': 'string'},\n        'desc': {'title': 'Desc', 'type': 'string'},\n        'gwp': {'title': 'Gwp', 'type': 'number'},\n        'density': {'title': 'Density', 'type': 'number'}}\n        '''\n        return cls(**data)\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.ghg.GHGGas.cal_weight","title":"<code>cal_weight(unit='tonne')</code>","text":"<p>Convert to metric unit /n Default unit metric tonnes</p> Source code in <code>src\\ghgpy\\datamodel\\ghg.py</code> <pre><code>def cal_weight(self, unit='tonne'):\n    '''\n    Convert to metric unit /n\n    Default unit metric tonnes\n    '''\n    amount = self.amount.to_ufnum()\n    if self.unit in weigh_units.units:\n        return weigh_units.convert(amount, self.unit, unit)\n    if self.unit in volume_units.units:\n        if self.density == None:\n            return None\n        else:\n            weight = volume_units.convert(amount, self.unit, 'm3')*self.density\n            return weigh_units.convert(weight, 'kg', unit)\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.ghg.GHGGas.from_dict","title":"<code>from_dict(data)</code>  <code>classmethod</code>","text":"<p>{'name': {'title': 'Name', 'type': 'string'}, 'amount': {'title': 'Amount', 'type': 'number'}, 'unit': {'title': 'Unit', 'type': 'string'}, 'desc': {'title': 'Desc', 'type': 'string'}, 'gwp': {'title': 'Gwp', 'type': 'number'}, 'density': {'title': 'Density', 'type': 'number'}}</p> Source code in <code>src\\ghgpy\\datamodel\\ghg.py</code> <pre><code>@classmethod\ndef from_dict(cls, data):\n    '''\n    {'name': {'title': 'Name', 'type': 'string'},\n    'amount': {'title': 'Amount', 'type': 'number'},\n    'unit': {'title': 'Unit', 'type': 'string'},\n    'desc': {'title': 'Desc', 'type': 'string'},\n    'gwp': {'title': 'Gwp', 'type': 'number'},\n    'density': {'title': 'Density', 'type': 'number'}}\n    '''\n    return cls(**data)\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.unit_converters.energy_units","title":"<code>energy_units</code>","text":"<p>Convert between difference energy units</p> Source code in <code>src\\ghgpy\\datamodel\\unit_converters.py</code> <pre><code>class energy_units:\n    \"\"\"\n    Convert between difference energy units\n    \"\"\"\n    units = ['j', 'kj', 'mj', 'tj', 'gj', 'Tj', 'kWh', 'Wh','MWh', 'GWh', 'TWh']\n    @staticmethod\n    def convert(val: float, unit_in: str, unit_out: str) -&gt; float:\n        SI = {'j': 1.0, 'kj': 1000.0, 'mj': 1.0*10**6, 'gj': 1.0*10**9, 'tj': 1.0*10**12, \\\n              'Wh': 3600 , 'kWh': 3600*10**3, 'MWh': 3600*10**6, 'GWh': 3600*10**9, 'TWh': 3600*10**12}\n        return val * SI[unit_in] / SI[unit_out]\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.unit_converters.volume_units","title":"<code>volume_units</code>","text":"<p>Convert between difference volume units</p> Source code in <code>src\\ghgpy\\datamodel\\unit_converters.py</code> <pre><code>class volume_units:\n    \"\"\"\n    Convert between difference volume units\n    \"\"\"\n    units = ['litre', 'l', 'm3']\n    @staticmethod\n    def convert(val: float, unit_in: str, unit_out: str) -&gt; float:\n        SI = {'litre': 1.0, 'l': 1.0, 'm3': 1000.0}\n        return val * SI[unit_in] / SI[unit_out]\n</code></pre>"},{"location":"reference/#src.ghgpy.datamodel.unit_converters.weigh_units","title":"<code>weigh_units</code>","text":"<p>Convert between difference weigh units</p> Source code in <code>src\\ghgpy\\datamodel\\unit_converters.py</code> <pre><code>class weigh_units:\n    \"\"\"\n    Convert between difference weigh units\n    \"\"\"\n    units = ['g', 'kg', 'tonne', 'Gg']\n    @staticmethod\n    def convert(val: float, unit_in: str, unit_out: str) -&gt; float:\n        SI = {'g': 1.0, 'kg': 1000.0, 'tonne': 1.0*10**6, 't': 1.0*10**6,'tonnes': 1.0*10**6, 'Gg': 1.0*10**9}\n        return val * SI[unit_in] / SI[unit_out]\n</code></pre>"}]}